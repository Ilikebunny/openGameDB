# Learn more about services, parameters and containers at
# http://symfony.com/doc/current/service_container.html
parameters:
#    parameter_name: value

services:
    
    AppBundle.importcsv:
        class: AppBundle\Manager\ImportCSV
        arguments: ["@service_container"]
        
    app_bundle.service.listener:
        class: AppBundle\Listener\LoadDataListener
        tags:
            - { name: 'kernel.event_listener', event: 'fullcalendar.set_data', method: loadData }
        arguments: [ "@service_container" ]
        
    #twig extensions
    twig.extension.text:
       class: Twig_Extensions_Extension_Text
       tags:
            - { name: twig.extension }
 
    twig.extension.intl:
        class: Twig_Extensions_Extension_Intl
        tags:
            - { name: twig.extension }    
            
    appBundle.upload_listener:
        class: AppBundle\Listener\UploadListener
        arguments: ["@doctrine.orm.entity_manager", "@service_container"]
        tags:
            - { name: kernel.event_listener, event: oneup_uploader.post_persist, method: onUpload }
            
    app.phpcr.initializer:
        class: Doctrine\Bundle\PHPCRBundle\Initializer\GenericInitializer
        arguments:
            - My custom initializer
            - ["/cms/pages", "/cms/posts", "/cms/routes"]
        tags:
            - { name: doctrine_phpcr.initializer }
            
            #CMF
    app.content_controller:
        class: AppBundle\Controller\ContentController
        parent: cmf_content.controller

#    app.exception_listener:
#        class: AppBundle\EventListener\SandboxExceptionListener
#        calls:
#            - [setContainer, ['@service_container']]
#        tags:
#            - { name: kernel.event_subscriber }

#    app.twig.menu_extension:
#        class: AppBundle\Twig\MenuExtension
#        arguments: ['@knp_menu.helper', '@knp_menu.matcher']
#        tags:
#            - { name: twig.extension }
#
#    app.resource_voter:
#        class: AppBundle\Security\ResourceVoter
#        tags:
#            - { name: security.voter }           